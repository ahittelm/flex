<html>
<head>
	<title>Timer</title>	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">


  	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>	
    <link href="css/bootstrap.css" rel="stylesheet">
	<link href="css/index.css" rel="stylesheet">


	<!-- this is a comment in HTML -->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->   
	<nav class="navbar navbar-toggleable-md navbar-light" id="navigation">
	  	<div class="container-fluid">
	  		  <a id="title">flex</a>
			  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			    <span class="navbar-toggler-icon"></span>
			  </button>
			  <div class="collapse navbar-collapse" id="navbarNav">
			    <ul class="navbar-nav">
			      <li class="nav-item active">
			        <a class="nav-link" href="library">Home<span class="sr-only">(current)</span></a>
			      </li>
			      <li class="nav-item">
			        <a class="nav-link" href="stats">Stats</a>
			      </li>
			      <li class="nav-item">
			        <a class="nav-link" href="Timer">Timer</a>
			      </li>
			   <!--    <li class="nav-item">
			        <a class="nav-link" href="settings">Settings</a>
			      </li> -->
			    </ul>
			  </div>	
		</div>
	</nav>
</head>

<body>

<style>
p {
  text-align: center;
  font-size: 20px;
  margin-top:0px;
}
</style>
</head>

<body>
<script>
function cancel() {
	location.href = "library"
}
</script>

<p id="demo"></p>

<div id="outerProgressBar">
	<div id="innerProgressBar">		  
</div>

<button type="button" id="timerButtonPause" onclick="pause()" class="btn btn-secondary btn-lg">Pause</button>
<button type="button" id="timerButtonPlay" onclick="play()" style="display:none" class="btn btn-secondary btn-lg">Play</button>
<button type="button" id="timerButtonCancel" onclick="cancel()" class="btn btn-secondary btn-lg">Cancel</button>




<audio id="audio">
	<source src="audio/Blaster.mp3" type="audio/mpeg">
</audio>

<!--START OF SCRIPT-->
<script>

//audios
var audio = document.getElementById("audio"); 

function playAudio() { 
    audio.play(); 
} 

function pauseAudio() { 
    audio.pause(); 
} 

// TIMERS
var orig = 5;
var val = orig;
var increment = 1;
var lowbounds = -1;
var myVar = setInterval(myTimer, 1000);

function myTimer() {
	if(val <= lowbounds)
    {
    	clear();
    }
    else{
	    document.getElementById("demo").innerHTML = val;
	    val -= increment;
	    animate();
	}
}

function clear(){
    clearTimeout(myVar);
    playAudio();
    //document.getElementById("demo").innerHTML = orig;
}

function pause(){
	clearTimeout(myVar); 
	$("#timerButtonPlay").show();
	$("#timerButtonPause").hide();
}

function play(){
	myVar = setInterval(myTimer, 1000);
	$("#timerButtonPlay").hide();
	$("#timerButtonPause").show();	 
}

//ANIMATION
function animate(){
    $("#innerProgressBar").animate({
        width: (1-((val+1)/(orig+1))) * 100 +'%'
    });
}
</script>

</body>
</html>